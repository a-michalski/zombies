# FINAL DESIGN DOCUMENT: LEVELS 11-17
## "The Hive Chronicles" - Complete Game Design Specification

**Status:** DESIGN COMPLETE - Implementation Ready
**Date:** 2025-11-18
**Multi-Agent Workflow:** 6 specialized agents (Economy, Combat, Level, Narrative, Metrics, UX)

---

## EXECUTIVE SUMMARY

This document contains the complete, validated design for 7 new game levels (11-17) created through a multi-agent collaborative workflow. All designs have been validated against economy rules, DPS/HP balance formulas, and difficulty metrics.

**Validation Results:**
- ‚úÖ **Agent 5 (Metrics Validator):** 23/24 tests PASSED, Grade A (95/100)
- ‚ö†Ô∏è **Agent 6 (UX Designer):** Grade B+ (82/100), Conditional Ship

**Key Achievements:**
- 7 complete level configurations with maps, enemies, and economy
- 5 new enemy types with proper TTK calculations
- 1 new tower (Cannon Tower - AOE)
- 70 total waves designed (10 per level)
- Complete narrative arc: "The Hive Chronicles"

**Critical Next Steps:**
1. Implement new enemies in code (Spitter, Crawler, Bloater, Tank, Hive Queen)
2. Implement Cannon Tower
3. Create level maps and wave configurations
4. Playtest difficulty curve (especially Levels 15-17)
5. Add UI for new enemy abilities

---

## TABLE OF CONTENTS

1. [Story Arc & Narrative](#story-arc)
2. [Complete Level Specifications (YAML)](#level-specifications)
3. [New Enemies Design](#new-enemies)
4. [New Tower Design](#new-tower)
5. [Wave Compositions](#wave-compositions)
6. [Validation Summary](#validation-summary)
7. [UX Audit Findings](#ux-audit)
8. [Implementation Roadmap](#implementation-roadmap)

---

<a name="story-arc"></a>
## 1. STORY ARC & NARRATIVE

**Title:** "The Hive Chronicles"
**Designer:** Agent 4 (Narrative Designer)

### Three-Act Structure

**ACT 1: DISCOVERY (Levels 11-12)**
> *"It started at the outskirts. Now we know where."*

- **Level 11 - The Outskirts:** Urban ruins where first signs of organized infection appear
- **Level 12 - Dead Factory:** Industrial site where the infection originated

**ACT 2: REVELATION (Levels 13-14)**
> *"We descended into their world. What we found changed everything."*

- **Level 13 - The Descent:** Underground tunnels revealing the infection's underground network
- **Level 14 - The Nexus:** Research lab where mutation accelerated into something worse

**ACT 3: ANNIHILATION (Levels 15-17)**
> *"There's only one way this ends."*

- **Level 15 - Scorched Earth:** Military base where containment failed catastrophically
- **Level 16 - The Hive:** Living organism made of infected tissue - the source
- **Level 17 - The Queen's Fall:** Final confrontation with the Hive Queen

### Emotional Journey
- **Levels 11-12:** Curiosity ‚Üí Dread (discovering the source)
- **Levels 13-14:** Horror ‚Üí Understanding (realizing it's not random)
- **Levels 15-17:** Desperation ‚Üí Determination ‚Üí Triumph (final battle)

---

<a name="level-specifications"></a>
## 2. COMPLETE LEVEL SPECIFICATIONS (YAML)

```yaml
# ============================================================================
# ZOMBIE TOWER DEFENSE - LEVELS 11-17 COMPLETE CONFIGURATION
# Generated by Multi-Agent Design Workflow
# ============================================================================

# ECONOMY RULES (Agent 1)
economyRules:
  economyRatios:
    easy:
      min: 1.8
      max: 2.2
    medium:
      min: 1.4
      max: 1.6
    hard:
      min: 1.1
      max: 1.3

  formula: |
    Economy Ratio = (Starting Scrap + Total Enemy Scrap) / Minimum Viable Defense Cost

    Where:
    - Starting Scrap = initial resources player has
    - Total Enemy Scrap = sum of scrap from all enemies across 10 waves
    - Minimum Viable Defense Cost = cost to build minimum towers needed to survive

# DPS/HP BALANCE RULES (Agent 2)
balanceRules:
  currentMaxDPS: 37.5

  ttkRanges:
    light:
      minSeconds: 0.8
      maxSeconds: 2.5
      hpRange: [30, 95]
    medium:
      minSeconds: 2.5
      maxSeconds: 6.0
      hpRange: [95, 225]
    heavy:
      minSeconds: 6.0
      maxSeconds: 15.0
      hpRange: [225, 560]
    boss:
      minSeconds: 15.0
      maxSeconds: 30.0
      hpRange: [560, 1125]

  formula: |
    Time to Kill (TTK) = Enemy HP / Tower DPS
    Enemy HP = TTK √ó Tower DPS

# DIFFICULTY TARGETS
difficultyTargets:
  level-11:
    targetScore: 1.0
    tier: "easy"
    economyRatio: 1.80
  level-12:
    targetScore: 1.1
    tier: "easy"
    economyRatio: 2.00
  level-13:
    targetScore: 1.4
    tier: "medium"
    economyRatio: 1.50
  level-14:
    targetScore: 1.5
    tier: "medium"
    economyRatio: 1.60
  level-15:
    targetScore: 1.9
    tier: "hard"
    economyRatio: 1.20
  level-16:
    targetScore: 2.1
    tier: "hard"
    economyRatio: 1.15
  level-17:
    targetScore: 2.3
    tier: "hard"
    economyRatio: 1.10

# ============================================================================
# LEVEL 11: THE OUTSKIRTS
# ============================================================================
level-11:
  name: "The Outskirts"
  description: "Abandoned suburban streets. Something's wrong here."

  # NARRATIVE
  narrative:
    setting: "Urban Ruins"
    act: 1
    actName: "Discovery"
    storyBeat: "First signs of organized infection at city's edge"
    atmosphere: "Eerie suburban decay, abandoned cars, overgrown yards"

  # ECONOMY (Agent 1)
  economy:
    startingScrap: 200
    targetEnemyScrap: 810
    actualEnemyScrap: 820
    economyRatio: 1.80
    tier: "easy"
    estimatedEnemyCount: 81

  # MAP CONFIGURATION (Agent 3)
  map:
    dimensions:
      width: 1100
      height: 700
    waypointPath:
      description: |
        Spawns at northwest corner of abandoned suburban streets ‚Üí
        winds south through residential area with gentle curves ‚Üí
        crosses main intersection at map center ‚Üí
        continues southeast through parking lots and overgrown yards ‚Üí
        exits at southeastern edge near collapsed fence
      estimatedLength: 450
      complexity: "Low - gentle S-curve with wide lanes"
    constructionSpots:
      count: 10
      placementStrategy: |
        Generous placement mimicking suburban defensive positions:
        - 3 spots along northern residential street (early intercept)
        - 2 spots at central intersection (critical chokepoint)
        - 3 spots flanking southeastern commercial area (late-game)
        - 2 spots in parking lot areas (flexible positioning)
    terrainModifiers:
      - "Abandoned cars (visual only)"
      - "Streetlights and debris (atmospheric)"

  # DIFFICULTY
  difficulty:
    tier: "easy"
    targetScore: 1.0
    pathLength: 450
    constructionSpots: 10

  # WAVE SUMMARY (Agent 2)
  waves:
    totalWaves: 10
    totalEnemies: 82
    totalScrap: 820
    enemyTypes: ["Shuffler", "Sprinter", "Brute"]
    signatureMoments:
      - wave: 8
        description: "Double Brute assault - first major threat"

# ============================================================================
# LEVEL 12: DEAD FACTORY
# ============================================================================
level-12:
  name: "Dead Factory"
  description: "Where it all began. The air tastes of rust and death."

  # NARRATIVE
  narrative:
    setting: "Industrial Complex"
    act: 1
    actName: "Discovery"
    storyBeat: "Factory where infection originated - toxic atmosphere"
    atmosphere: "Rusted machinery, toxic vents, assembly lines frozen mid-production"
    newMechanicIntro: "Spitter (ranged enemy) and Cannon Tower (AOE)"

  # ECONOMY (Agent 1)
  economy:
    startingScrap: 180
    targetEnemyScrap: 970
    actualEnemyScrap: 1020
    economyRatio: 2.00
    tier: "easy"
    estimatedEnemyCount: 97

  # MAP CONFIGURATION (Agent 3)
  map:
    dimensions:
      width: 1000
      height: 750
    waypointPath:
      description: |
        Spawns at western loading dock ‚Üí
        enters factory floor moving east through machinery rows ‚Üí
        hooks north through assembly line corridor (narrow section) ‚Üí
        crosses open warehouse floor heading east ‚Üí
        exits at eastern shipping bay
      estimatedLength: 420
      complexity: "Medium - includes narrow assembly corridor creating natural choke"
    constructionSpots:
      count: 9
      placementStrategy: |
        Industrial-themed placement:
        - 2 spots on elevated catwalks (+0.5 range bonus)
        - 3 spots along assembly line corridor (ideal for Cannon Tower AOE)
        - 2 spots in open warehouse floor
        - 2 spots near shipping bay exit
    terrainModifiers:
      - "Toxic gas vents (visual hazard, no gameplay effect)"
      - "Conveyor belts (cosmetic)"
      - "Elevated catwalks (+0.5 range bonus to towers)"

  # DIFFICULTY
  difficulty:
    tier: "easy"
    targetScore: 1.1
    pathLength: 420
    constructionSpots: 9

  # WAVE SUMMARY (Agent 2)
  waves:
    totalWaves: 10
    totalEnemies: 96
    totalScrap: 1020
    enemyTypes: ["Shuffler", "Sprinter", "Spitter", "Brute"]
    newEnemies: ["Spitter"]
    signatureMoments:
      - wave: 6
        description: "First Spitter introduction - ranged threat"
      - wave: 9
        description: "Mixed Spitter + Brute assault"

# ============================================================================
# LEVEL 13: THE DESCENT
# ============================================================================
level-13:
  name: "The Descent"
  description: "Into the tunnels. They've been here all along."

  # NARRATIVE
  narrative:
    setting: "Underground Tunnels"
    act: 2
    actName: "Revelation"
    storyBeat: "Claustrophobic sewers reveal underground infection network"
    atmosphere: "Dripping pipes, cramped corridors, echoing darkness"
    newMechanicIntro: "Crawler (speed boost when damaged)"

  # ECONOMY (Agent 1)
  economy:
    startingScrap: 160
    targetEnemyScrap: 640
    actualEnemyScrap: 615
    economyRatio: 1.50
    tier: "medium"
    estimatedEnemyCount: 64

  # MAP CONFIGURATION (Agent 3)
  map:
    dimensions:
      width: 900
      height: 600
    waypointPath:
      description: |
        Spawns at street-level grate entrance (north) ‚Üí
        descends into underground sewer tunnels moving south ‚Üí
        zigzags through cramped maintenance corridors (tight 90-degree turns) ‚Üí
        passes through central drainage chamber ‚Üí
        exits through southern emergency access tunnel
      estimatedLength: 380
      complexity: "High - claustrophobic zigzag with sharp corners"
    constructionSpots:
      count: 7
      placementStrategy: |
        Constrained underground placement (REDUCED from previous levels):
        - 2 spots near entrance tunnel
        - 2 spots at zigzag corners (cover multiple path segments)
        - 1 spot in central drainage chamber (premium position)
        - 2 spots near exit tunnel
    terrainModifiers:
      - "Narrow tunnels limit tower placement"
      - "Dripping pipes and flooding (atmospheric)"
      - "Central drainage chamber echo (cosmetic)"

  # DIFFICULTY
  difficulty:
    tier: "medium"
    targetScore: 1.4
    pathLength: 380
    constructionSpots: 7

  # WAVE SUMMARY (Agent 2)
  waves:
    totalWaves: 10
    totalEnemies: 63
    totalScrap: 615
    enemyTypes: ["Shuffler", "Sprinter", "Crawler", "Spitter", "Brute"]
    newEnemies: ["Crawler"]
    signatureMoments:
      - wave: 5
        description: "First Crawler pack - speed threat"
      - wave: 10
        description: "Fast finale - Crawlers + Sprinters"

# ============================================================================
# LEVEL 14: THE NEXUS
# ============================================================================
level-14:
  name: "The Nexus"
  description: "A secret lab. This is where they evolved."

  # NARRATIVE
  narrative:
    setting: "Research Laboratory"
    act: 2
    actName: "Revelation"
    storyBeat: "Secret lab where mutation accelerated into specialized forms"
    atmosphere: "Sterile labs, specimen tanks, quarantine breach"
    newMechanicIntro: "Bloater (death explosion damages towers)"

  # ECONOMY (Agent 1)
  economy:
    startingScrap: 140
    targetEnemyScrap: 730
    actualEnemyScrap: 735
    economyRatio: 1.60
    tier: "medium"
    estimatedEnemyCount: 66

  # MAP CONFIGURATION (Agent 3)
  map:
    dimensions:
      width: 950
      height: 700
    waypointPath:
      description: |
        Spawns at research lab security checkpoint (west) ‚Üí
        moves through decontamination hallway ‚Üí
        enters main laboratory floor (open space with scattered equipment) ‚Üí
        weaves between research stations and specimen tanks ‚Üí
        exits through quarantine breach (eastern wall)
      estimatedLength: 400
      complexity: "Medium-High - open lab floor with scattered obstacles"
    constructionSpots:
      count: 8
      placementStrategy: |
        Scientific facility placement (deliberately separated):
        - 2 spots in decontamination area
        - 4 spots scattered across main lab floor (avoid explosion overlap)
        - 2 spots near quarantine breach

        NOTE: Spots separated to minimize Bloater explosion chain damage
    terrainModifiers:
      - "Research equipment (visual cover only)"
      - "Specimen tanks glowing (narrative element)"
      - "Quarantine breach flickering lights (tension)"
      - "Bloater explosion radius: 1.5 units, 5 damage to TOWERS"

  # DIFFICULTY
  difficulty:
    tier: "medium"
    targetScore: 1.5
    pathLength: 400
    constructionSpots: 8

  # WAVE SUMMARY (Agent 2)
  waves:
    totalWaves: 10
    totalEnemies: 66
    totalScrap: 735
    enemyTypes: ["Shuffler", "Sprinter", "Crawler", "Spitter", "Bloater", "Brute"]
    newEnemies: ["Bloater"]
    signatureMoments:
      - wave: 7
        description: "First Bloater - death explosion mechanic"
      - wave: 10
        description: "Multi-Bloater finale - positioning critical"

# ============================================================================
# LEVEL 15: SCORCHED EARTH
# ============================================================================
level-15:
  name: "Scorched Earth"
  description: "The military tried. The military failed."

  # NARRATIVE
  narrative:
    setting: "Military Base"
    act: 3
    actName: "Annihilation"
    storyBeat: "Military's catastrophic containment failure - open battlefield"
    atmosphere: "Destroyed vehicles, scorched tarmac, craters, ash"
    newMechanicIntro: "Tank (25% armor reduces damage)"

  # ECONOMY (Agent 1)
  economy:
    startingScrap: 130
    targetEnemyScrap: 460
    actualEnemyScrap: 516
    economyRatio: 1.20
    tier: "hard"
    estimatedEnemyCount: 38
    note: "‚ö†Ô∏è Agent 5 flagged: +56 scrap variance (exceeds ¬±50 tolerance)"

  # MAP CONFIGURATION (Agent 3)
  map:
    dimensions:
      width: 1200
      height: 800
    waypointPath:
      description: |
        Spawns at collapsed perimeter fence (northwest) ‚Üí
        crosses open battlefield (minimal cover, very direct path) ‚Üí
        passes through destroyed vehicle barriers at center ‚Üí
        continues straight across scorched tarmac ‚Üí
        exits at bunker entrance (southeast corner)
      estimatedLength: 360
      complexity: "Low geometric complexity but HIGH difficulty - straight path"
    constructionSpots:
      count: 8
      placementStrategy: |
        Military base defensive positions:
        - 2 spots at perimeter (early intercept)
        - 3 spots along central battlefield (maximum path exposure)
        - 2 spots near destroyed vehicles
        - 1 spot at bunker entrance (final stand)

        NOTE: Open design = pure DPS check, no clever positioning tricks
    terrainModifiers:
      - "Open battlefield - unrestricted firing lines"
      - "Destroyed vehicles (cosmetic cover only)"
      - "Scorched earth, craters, ash (atmospheric)"
      - "Wind effects (visual)"

  # DIFFICULTY
  difficulty:
    tier: "hard"
    targetScore: 1.9
    pathLength: 360
    constructionSpots: 8
    note: "DPS skill check - Tank armor requires Level 3 towers"

  # WAVE SUMMARY (Agent 2)
  waves:
    totalWaves: 10
    totalEnemies: 44
    totalScrap: 516
    enemyTypes: ["Shuffler", "Sprinter", "Crawler", "Spitter", "Bloater", "Tank", "Brute"]
    newEnemies: ["Tank"]
    signatureMoments:
      - wave: 6
        description: "First Tank - armored threat introduction"
      - wave: 10
        description: "Multi-Tank finale - extreme DPS requirement"

# ============================================================================
# LEVEL 16: THE HIVE
# ============================================================================
level-16:
  name: "The Hive"
  description: "It's alive. All of it."

  # NARRATIVE
  narrative:
    setting: "Organic Biomass"
    act: 3
    actName: "Annihilation"
    storyBeat: "Living organism made of infected tissue - the source itself"
    atmosphere: "Pulsating walls, exposed nerves, breathing sounds, alien horror"

  # ECONOMY (Agent 1)
  economy:
    startingScrap: 120
    targetEnemyScrap: 335
    actualEnemyScrap: 335
    economyRatio: 1.15
    tier: "hard"
    estimatedEnemyCount: 26
    note: "‚úÖ Perfect scrap match (Œî = 0)"

  # MAP CONFIGURATION (Agent 3)
  map:
    dimensions:
      width: 850
      height: 650
    waypointPath:
      description: |
        Spawns from organic fissure (west) ‚Üí
        travels through pulsating biomass corridors ‚Üí
        passes exposed nerve clusters and fleshy walls ‚Üí
        exits into hive core chamber (east)
      estimatedLength: 340
      complexity: "Medium - organic, irregular path with pulsating sections"
    constructionSpots:
      count: 6
      placementStrategy: |
        Alien organic placement (MINIMAL spots):
        - 2 spots near spawn fissure (mandatory use)
        - 2 spots mid-path near nerve clusters
        - 2 spots approaching hive core

        NOTE: Only 6 spots = extreme optimization. All must be Level 3 towers.
    terrainModifiers:
      - "Pulsating biomass walls (claustrophobic atmosphere)"
      - "Exposed nerve clusters glowing (cosmetic)"
      - "Organic terrain (visually alien, no gameplay modifiers)"
      - "Hive ambiance (breathing, organic movement)"

  # DIFFICULTY
  difficulty:
    tier: "hard"
    targetScore: 2.1
    pathLength: 340
    constructionSpots: 6
    note: "Pre-final boss gauntlet - mastery test"

  # WAVE SUMMARY (Agent 2)
  waves:
    totalWaves: 10
    totalEnemies: 26
    totalScrap: 335
    enemyTypes: ["Tank", "Bloater", "Brute"]
    signatureMoments:
      - wave: 8
        description: "Triple Tank wall - ultimate DPS test"
      - wave: 10
        description: "Heavy mix finale - earn the right to face Queen"

# ============================================================================
# LEVEL 17: THE QUEEN'S FALL
# ============================================================================
level-17:
  name: "The Queen's Fall"
  description: "End this. End her."

  # NARRATIVE
  narrative:
    setting: "Boss Arena"
    act: 3
    actName: "Annihilation"
    storyBeat: "Final confrontation with Hive Queen - campaign climax"
    atmosphere: "Arena design, dramatic lighting, ominous throne, epic finale"
    bossIntro: "Hive Queen (950 HP, regeneration, 10 damage)"

  # ECONOMY (Agent 1)
  economy:
    startingScrap: 110
    targetEnemyScrap: 410
    actualEnemyScrap: 408
    economyRatio: 1.10
    tier: "hard"
    estimatedEnemyCount: 27
    note: "‚úÖ Near-perfect match (Œî = -2)"

  # MAP CONFIGURATION (Agent 3)
  map:
    dimensions:
      width: 1000
      height: 800
    waypointPath:
      description: |
        Hive Queen spawns at northern hive throne ‚Üí
        moves in deliberate circular pattern around arena perimeter ‚Üí
        passes through western quadrant ‚Üí
        southern quadrant ‚Üí
        eastern quadrant ‚Üí
        completes circuit attempting to reach southern core entrance (player base)
      estimatedLength: 350
      complexity: "High - circular arena with Queen + minion adds"
    constructionSpots:
      count: 7
      placementStrategy: |
        Boss arena strategic placement:
        - 1 spot at arena center (PREMIUM - hits all quadrants, risky)
        - 4 spots around quadrant perimeters (each covers ~50% of path)
        - 2 spots near player base entrance (final defense)

        NOTE: Circular design = all spots see Queen multiple times.
        Center spot = high risk/reward decision.
    terrainModifiers:
      - "Arena design with clear quadrants"
      - "Hive Queen: 950 HP, 0.8 speed, 3 HP/sec regeneration"
      - "Minion adds spawn from organic pods (waves 5-10)"
      - "Boss arena atmosphere - dramatic lighting, ominous sounds"

  # DIFFICULTY
  difficulty:
    tier: "hard"
    targetScore: 2.3
    pathLength: 350
    constructionSpots: 7
    note: "Boss fight - everything learned must be applied"

  # WAVE SUMMARY (Agent 2)
  waves:
    totalWaves: 10
    totalEnemies: 27
    totalScrap: 408
    enemyTypes: ["Hive Queen", "Crawler", "Spitter", "Bloater", "Tank", "Brute"]
    bossEnemy: "Hive Queen"
    signatureMoments:
      - wave: 10
        description: "Hive Queen + adds finale - campaign climax"
    victoryCondition: "Killing Queen ends level immediately (minions flee)"

# ============================================================================
# END OF LEVEL CONFIGURATIONS
# ============================================================================
```

---

<a name="new-enemies"></a>
## 3. NEW ENEMIES DESIGN

**Designer:** Agent 2 (Combat Balancer)

### Enemy Specifications

| Name | HP | Speed | Damage | Scrap | TTK (37.5 DPS) | Tier | Abilities | Intro Level |
|------|----|----|--------|-------|----------------|------|-----------|-------------|
| **Spitter** | 130 | 1.1 | 2 | 13 | 3.5s | Medium | Ranged attack | 12 |
| **Crawler** | 55 | 2.2 | 1 | 6 | 1.5s | Light | Speed boost at <50% HP (√ó1.4 to 3.08) | 13 |
| **Bloater** | 375 | 0.5 | 3 | 30 | 10.0s | Heavy | Death explosion (1.5 radius, 5 damage to towers) | 14 |
| **Tank** | 450 | 0.7 | 4 | 35 | 12.0s (16s effective) | Heavy | 25% armor (damage reduction) | 15 |
| **Hive Queen** | 950 | 0.8 | 10 | 80 | 25.3s | Boss | Regeneration (3 HP/sec) | 17 |

### TTK Validation (Agent 5)

All enemies fall within correct tier ranges:
- ‚úÖ Crawler (1.5s) ‚Üí Light tier (0.8-2.5s)
- ‚úÖ Spitter (3.5s) ‚Üí Medium tier (2.5-6.0s)
- ‚úÖ Bloater (10.0s) ‚Üí Heavy tier (6.0-15.0s)
- ‚úÖ Tank (12.0s) ‚Üí Heavy tier (6.0-15.0s)
- ‚úÖ Hive Queen (25.3s) ‚Üí Boss tier (15.0-30.0s)

### Enemy Design Rationale

**Spitter (Level 12):**
- Introduces ranged combat threat
- Forces players to prioritize targets (kill before it damages hull)
- Encourages elevated tower placement (catwalks in Factory level)

**Crawler (Level 13):**
- Speed threat - punishes slow DPS
- Mechanic teaches "kill fast or they escape" pressure
- Speed boost at <50% HP creates urgency

**Bloater (Level 14):**
- First enemy that affects tower placement strategy
- Death explosion damages nearby towers (1.5 radius, 5 damage)
- Teaches positioning consequences

**Tank (Level 15):**
- Armor (25% reduction) creates DPS skill check
- Requires Level 3 towers to kill efficiently
- Forces upgrade optimization over tower spam

**Hive Queen (Level 17):**
- Boss enemy with regeneration (3 HP/sec)
- Requires sustained DPS (can't pause or she heals)
- Campaign climax - multi-circuit battle

---

<a name="new-tower"></a>
## 4. NEW TOWER DESIGN

**Designer:** Agent 2 (Combat Balancer)

### Cannon Tower Specifications

| Stat | Value |
|------|-------|
| **Damage** | 25 |
| **Fire Rate** | 0.4 shots/sec |
| **DPS** | 10.0 |
| **Range** | 1.5 units |
| **AOE Radius** | 1.0 units |
| **Cost** | 250 scrap |

### Introduction Context

- **Introduced:** Level 12 (Dead Factory)
- **Environmental Design:** Factory assembly line corridor creates natural enemy grouping
- **Strategic Purpose:** AOE damage for crowd control
- **Cost vs DPS:** More expensive than Lookout Post but excels when 2+ enemies grouped

### Upgrade Path (To Be Designed)

Currently only Level 1 Cannon Tower is specified. Future work should include:
- Level 2 upgrade cost and stats
- Level 3 upgrade cost and stats
- Balance AOE radius vs single-target DPS for each level

---

<a name="wave-compositions"></a>
## 5. WAVE COMPOSITIONS

**Designer:** Agent 2 (Combat Balancer)

### Summary Table

| Level | Total Waves | Total Enemies | Total Scrap | Target Scrap | Delta | New Enemies Introduced |
|-------|-------------|---------------|-------------|--------------|-------|------------------------|
| 11 | 10 | 82 | 820 | 810 | +10 | - |
| 12 | 10 | 96 | 1,020 | 970 | +50 | Spitter |
| 13 | 10 | 63 | 615 | 640 | -25 | Crawler |
| 14 | 10 | 66 | 735 | 730 | +5 | Bloater |
| 15 | 10 | 44 | 516 | 460 | +56 ‚ö†Ô∏è | Tank |
| 16 | 10 | 26 | 335 | 335 | 0 ‚úÖ | - |
| 17 | 10 | 27 | 408 | 410 | -2 ‚úÖ | Hive Queen |

**Tolerance:** ¬±50 scrap (6/7 levels pass, 1 warning)

### Signature Moments (Agent 2)

**Level 11, Wave 8:** "Double Brute assault" - first major threat
**Level 12, Wave 6:** "First Spitter introduction" - ranged mechanic
**Level 12, Wave 9:** "Mixed Spitter + Brute assault"
**Level 13, Wave 5:** "First Crawler pack" - speed threat
**Level 13, Wave 10:** "Fast finale - Crawlers + Sprinters"
**Level 14, Wave 7:** "First Bloater" - death explosion mechanic
**Level 14, Wave 10:** "Multi-Bloater finale" - positioning critical
**Level 15, Wave 6:** "First Tank" - armored threat
**Level 15, Wave 10:** "Multi-Tank finale" - extreme DPS requirement
**Level 16, Wave 8:** "Triple Tank wall" - ultimate DPS test
**Level 16, Wave 10:** "Heavy mix finale" - earn right to face Queen
**Level 17, Wave 10:** "Hive Queen + adds finale" - campaign climax

### Wave Pacing Philosophy

**Waves 1-3:** Confidence building - manageable enemy counts
**Waves 4-7:** Rising tension - introduce new enemy types, increase pressure
**Waves 8-10:** Climax - signature moments, maximum challenge

---

<a name="validation-summary"></a>
## 6. VALIDATION SUMMARY

**Validator:** Agent 5 (Metrics Validator)

### Overall Results

- **Total Validations:** 24
- **Passed:** 23 ‚úÖ
- **Warnings:** 1 ‚ö†Ô∏è
- **Critical Failures:** 0 ‚ùå
- **Grade:** A (95/100)
- **Production Readiness:** ‚úÖ YES (with minor Level 15 adjustment)

### Economy Ratio Validation

All 7 levels hit their tier targets:

| Level | Target Ratio | Actual Ratio | Tier | Status |
|-------|-------------|--------------|------|--------|
| 11 | 1.8-2.2 | 1.80 | Easy | ‚úÖ PASS |
| 12 | 1.8-2.2 | 2.00 | Easy | ‚úÖ PASS |
| 13 | 1.4-1.6 | 1.50 | Medium | ‚úÖ PASS |
| 14 | 1.4-1.6 | 1.60 | Medium | ‚úÖ PASS |
| 15 | 1.1-1.3 | 1.20 | Hard | ‚úÖ PASS |
| 16 | 1.1-1.3 | 1.15 | Hard | ‚úÖ PASS |
| 17 | 1.1-1.3 | 1.10 | Hard | ‚úÖ PASS |

### Scrap Consistency (Agent 1 vs Agent 2)

| Level | Agent 1 Target | Agent 2 Actual | Delta | Status |
|-------|----------------|----------------|-------|--------|
| 11 | 810 | 820 | +10 | ‚úÖ PASS |
| 12 | 970 | 1,020 | +50 | ‚úÖ PASS (at limit) |
| 13 | 640 | 615 | -25 | ‚úÖ PASS |
| 14 | 730 | 735 | +5 | ‚úÖ PASS |
| 15 | 460 | 516 | +56 | ‚ö†Ô∏è WARNING (exceeds by 6) |
| 16 | 335 | 335 | 0 | ‚úÖ PASS (perfect!) |
| 17 | 410 | 408 | -2 | ‚úÖ PASS (perfect!) |

### Key Findings

**Strengths:**
- Economy forcing function creates natural difficulty progression
- TTK ranges ensure enemy variety (1.5s to 25s spread)
- Construction spot ratios reward strategic thinking
- Narrative pacing aligns with mechanical difficulty
- New enemies fill clear tactical niches

**Minor Issues:**
- Level 15: Scrap +56 vs ¬±50 target (easily fixed by removing 1 Crawler)
- Level 11: 10 construction spots with only 29% utilization (consider reducing to 8)

**Overall:** Design is balanced, coherent, and production-ready.

---

<a name="ux-audit"></a>
## 7. UX AUDIT FINDINGS

**Auditor:** Agent 6 (UX Designer)

### Overall Assessment

- **Grade:** B+ (82/100)
- **Ship Readiness:** ‚ö†Ô∏è CONDITIONAL - Not ready for immediate launch
- **Timeline:** 2-3 weeks for implementation + testing

### Critical Issues (MUST FIX)

| Priority | Issue | Impact | Fix |
|----------|-------|--------|-----|
| üî¥ CRITICAL | New mechanics not implemented in code | Cannot test/play | Implement enemies + towers |
| üî¥ CRITICAL | No UI specs for new abilities | Confusion/frustration | Add ability tooltips, visual indicators |
| üî¥ CRITICAL | L15-17 economy too tight | Rage-quit risk | Increase ratios by 0.1-0.15 |
| üü† HIGH | No defeat feedback system | Player blames luck | Add "why you lost" summary |
| üü† HIGH | No onboarding for L11-13 | Learning curve spike | Add intro tutorials |
| üü† HIGH | Victory screen underspecified | Weak satisfaction | Enhance with celebrations |

### Player Experience Forecast

**Best Case:** Players enjoy 7-level journey, feel challenged but not cheated (8.5/10)
**Likely Case:** Acts 1-2 are great, Act 3 feels too punishing (7/10)
**Worst Case:** New mechanics confusing + tight economy = 30-40% failure rate on L15-17 (5/10)

### Key Recommendations

**UX Enhancements:**
1. Add enemy ability UI (tooltips showing Spitter range, Bloater explosion, Tank armor)
2. Create defeat feedback screen ("You lost because: insufficient DPS at central chokepoint")
3. Implement tower range visualization (always show when building/selecting)
4. Add economy difficulty explanation tooltips
5. Enhance victory screen with stats, unlocks, celebrations

**Difficulty Adjustments:**
1. Increase L15-17 economy ratios by 0.1-0.15 (target: 1.3, 1.25, 1.2)
2. Add 10-20 starting scrap bonus for Act 3 levels
3. OR introduce optional "Story Mode" (lower difficulty for narrative focus)

**Playtesting Critical:**
- Test L15-17 with 20+ players
- Track completion rates (failure >30% on L17 = design issue)
- Gather feedback: "At what level did you feel frustrated?"
- Adjust economy if needed based on data

### Implementation Gap

**CRITICAL:** Design is validated but code doesn't exist yet:
- ‚ùå Spitter, Crawler, Bloater, Tank, Hive Queen enemies
- ‚ùå Cannon Tower
- ‚ùå All wave configurations for L11-17
- ‚ùå Level map definitions

**This is a 2-week+ implementation gap.**

Agent 5 marked "Production Ready (95/100)" refers to **DESIGN** readiness, not code readiness.

---

<a name="implementation-roadmap"></a>
## 8. IMPLEMENTATION ROADMAP

### Phase 1: Core Implementation (Week 1-2)

**Enemy Implementation:**
- [ ] Create Spitter enemy class (130 HP, ranged attack)
- [ ] Create Crawler enemy class (55 HP, speed boost mechanic)
- [ ] Create Bloater enemy class (375 HP, death explosion AOE)
- [ ] Create Tank enemy class (450 HP, 25% armor)
- [ ] Create Hive Queen boss class (950 HP, regeneration)

**Tower Implementation:**
- [ ] Create Cannon Tower class (AOE damage, 1.0 radius)
- [ ] Design Cannon Tower upgrade path (Level 2-3 stats)

**Level Data:**
- [ ] Create level-11 configuration (map + waves)
- [ ] Create level-12 configuration (map + waves)
- [ ] Create level-13 configuration (map + waves)
- [ ] Create level-14 configuration (map + waves)
- [ ] Create level-15 configuration (map + waves)
- [ ] Create level-16 configuration (map + waves)
- [ ] Create level-17 configuration (map + waves)

### Phase 2: UX Enhancement (Week 2)

**UI Implementation:**
- [ ] Enemy ability tooltips (show Spitter range, Bloater explosion, etc.)
- [ ] Tower range visualization (highlight when selected/building)
- [ ] Defeat feedback screen ("You lost because...")
- [ ] Economy difficulty explanation (tooltips in campaign select)
- [ ] Wave preview UI (show upcoming enemy types)

**Onboarding:**
- [ ] Level 11 intro screen (returning to campaign)
- [ ] Level 12 intro (Cannon Tower tutorial)
- [ ] Level 13 intro (Crawler speed mechanic)

**Victory Screen:**
- [ ] Enhance with stats (enemies killed, scrap efficiency, time)
- [ ] Add unlocks/achievements
- [ ] Add performance highlights

### Phase 3: Balance & Playtest (Week 2-3)

**Playtesting:**
- [ ] Internal playtest all 7 levels
- [ ] External playtest with 20+ players (casual + hardcore)
- [ ] Track completion rates per level
- [ ] Gather feedback on frustration points

**Balance Adjustments:**
- [ ] Fix Level 15 scrap (reduce by 6 to match target)
- [ ] Adjust L15-17 economy if failure rate >30%
- [ ] Fine-tune wave pacing based on feedback
- [ ] Consider "Story Mode" if too difficult

**Validation:**
- [ ] Verify all UI matches Figma specs
- [ ] Verify all enemy abilities work as designed
- [ ] Verify Cannon Tower AOE radius correct
- [ ] Verify Hive Queen regeneration functions

### Phase 4: Polish & Launch (Week 3)

**Polish:**
- [ ] Add challenge modes (optional speedrun, restricted builds)
- [ ] Add achievement tracking
- [ ] Verify narrative beats trigger correctly
- [ ] Final QA pass

**Launch Prep:**
- [ ] Update campaign UI with Levels 11-17
- [ ] Create marketing materials (screenshots, trailer)
- [ ] Write patch notes
- [ ] Prepare community announcement

---

## APPENDICES

### A. Multi-Agent Workflow Summary

This design was created by 6 specialized agents:

1. **Agent 1 (Economy Designer):** Calculated starting scrap, economy ratios, scrap targets
2. **Agent 2 (Combat Balancer):** Designed enemies, towers, wave compositions
3. **Agent 3 (Level Designer):** Created map layouts, construction spots, waypoint paths
4. **Agent 4 (Narrative Designer):** Wrote story arc, level themes, atmosphere
5. **Agent 5 (Metrics Validator):** Validated all designs against formulas, graded A (95/100)
6. **Agent 6 (UX Designer):** Audited player experience, graded B+ (82/100)

### B. Design Principles Applied

From `AI_PROMPT_7_NOWYCH_LOKACJI_v2.md`:

- ‚úÖ Economy Ratio Formula enforced
- ‚úÖ DPS/HP Balance (TTK ranges) validated
- ‚úÖ Difficulty Score targeting achieved
- ‚úÖ Multi-Agent strategy executed
- ‚úÖ UX Design Philosophy applied
- ‚úÖ Narrative-mechanical integration
- ‚úÖ Progressive difficulty curve
- ‚úÖ Fun Factor considerations (signature moments, variety, emotional arc)

### C. Files Generated During Workflow

1. `/home/user/zombies/AI_PROMPT_7_NOWYCH_LOKACJI_v2.md` - Original comprehensive AI prompt (2153 lines)
2. `/home/user/zombies/FINAL_7_LEVELS_DESIGN.md` - This document (complete design specification)

### D. Success Criteria Checklist

From original prompt v2:

- [x] 7 new locations designed (Levels 11-17)
- [x] Each level has 10 waves
- [x] New enemy types introduced progressively
- [x] New tower type (Cannon Tower)
- [x] Economy ratios hit targets (1.8-2.2, 1.4-1.6, 1.1-1.3)
- [x] TTK ranges validated for all enemies
- [x] Difficulty progression (Easy ‚Üí Medium ‚Üí Hard)
- [x] Narrative arc (3-act structure)
- [x] Map layouts with waypoints and construction spots
- [x] YAML structure with rules and formulas
- [x] Metrics validation (23/24 passed)
- [x] UX audit performed
- [ ] **Implementation in code** (NOT YET DONE)
- [ ] **Playtesting completed** (NOT YET DONE)

---

## CONCLUSION

This document represents **2 days of multi-agent collaborative design work**, producing a complete, validated specification for 7 new game levels.

**Design Quality:** A (95/100) - Production-ready design
**UX Quality:** B+ (82/100) - Conditional approval pending implementation
**Next Critical Step:** Implement new enemies, towers, and levels in code

**Estimated Implementation Time:** 2-3 weeks
**Estimated Launch Readiness:** 3-4 weeks (with playtesting)

---

**Document Version:** 1.0
**Last Updated:** 2025-11-18
**Status:** DESIGN COMPLETE - AWAITING IMPLEMENTATION
